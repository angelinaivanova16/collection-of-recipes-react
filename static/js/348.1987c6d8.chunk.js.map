{"version":3,"file":"static/js/348.1987c6d8.chunk.js","mappings":"uKACA,SAAgB,aAAe,8BAA8B,aAAe,8BAA8B,YAAc,6BAA6B,YAAc,6BAA6B,YAAc,6BAA6B,kBAAoB,oC,mFCO/P,MA+CA,EA/CgBA,KACd,MAAMC,GAAUC,EAAAA,EAAAA,MACVC,GAASC,EAAAA,EAAAA,IAAc,SAAU,MACjCC,GAAUC,EAAAA,EAAAA,KAAeC,GAASA,EAAMF,QAAQA,UAChDG,GAAWC,EAAAA,EAAAA,MACXC,EAAgBP,EAAS,WAS/B,SAASQ,EAAkBC,GACzB,MACMC,EADSD,EAAEE,OACKC,aAAa,MACnCP,GAASQ,EAAAA,EAAAA,IAAkBH,IAC3B,MAAMR,GAAUD,EAAAA,EAAAA,IAAcM,EAAe,MAAMO,QAChDC,GAAeA,IAAOL,KAEzBM,EAAAA,EAAAA,IAAYT,EAAeL,EAC7B,CAEA,OAjBAe,EAAAA,EAAAA,YAAU,KACHjB,GACHF,EAAQ,aACV,KAeAoB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAQlB,QAAQmB,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAQG,aAAaF,SAAC,oBACpCnB,EAAQsB,QACPF,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAQK,YAAYJ,SACjCnB,EAAQwB,KAAI,CAACX,EAAIY,KAChBT,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAQQ,YAAYP,SAAA,EAClCC,EAAAA,EAAAA,KAACO,EAAAA,GAAI,CAACV,UAAWC,EAAQU,YAAaC,GAAE,gBAAAC,OAAkBjB,GAAKM,SAC5DN,KAEHO,EAAAA,EAAAA,KAAA,KAAGK,GAAIZ,EAAII,UAAWC,EAAQa,kBAAmBC,QAAS1B,EAAkBa,SAAC,aAJrCM,QAW9CL,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAQe,aAAad,SAAC,8BAElC,C","sources":["webpack://collection-of-recipes-react/./src/componets/history/history.module.css?e7d8","componets/history/History.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"historyTitle\":\"history_historyTitle__FwdDK\",\"historyEmpty\":\"history_historyEmpty__q0s7m\",\"historyList\":\"history_historyList__p4lGK\",\"historyItem\":\"history_historyItem__WmsAf\",\"historyLink\":\"history_historyLink__59ytm\",\"deleteHistoryItem\":\"history_deleteHistoryItem__Lzg4r\"};","import classes from './history.module.css';\r\nimport { useAppSelector } from '../../hooks/hooks';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { removeFromHistory } from '../../redux/history-reducer';\r\nimport { getDataFromLS, setDataToLS } from '../../utils/localStorage';\r\nimport { useEffect } from 'react';\r\n\r\nconst History = () => {\r\n  const toLogin = useNavigate();\r\n  const isAuth = getDataFromLS('isAuth', '\"\"');\r\n  const history = useAppSelector(state => state.history.history);\r\n  const dispatch = useDispatch();\r\n  const isAuthHistory = isAuth + ' history';\r\n\r\n  useEffect(() => {\r\n    if (!isAuth) {\r\n      toLogin('/loginPage')\r\n    }\r\n  });\r\n\r\n  // eslint-disable-next-line  @typescript-eslint/no-explicit-any\r\n  function removeHistoryItem(e: any) {\r\n    const target = e.target as Element;\r\n    const remove = target.getAttribute('id');\r\n    dispatch(removeFromHistory(remove));\r\n    const history = getDataFromLS(isAuthHistory, '[]').filter(\r\n      (el: string) => el !== remove\r\n    );\r\n    setDataToLS(isAuthHistory, history);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.history}>\r\n      <h2 className={classes.historyTitle}>Search history:</h2>\r\n      {history.length ? (\r\n        <div className={classes.historyList}>\r\n          {history.map((el, id) => (\r\n            <div className={classes.historyItem} key={id}>\r\n              <Link className={classes.historyLink} to={`/search?name=${el}`}>\r\n                {el}\r\n              </Link>\r\n              <p id={el} className={classes.deleteHistoryItem} onClick={removeHistoryItem}>\r\n                delete\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p className={classes.historyEmpty}>Search history is empty</p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default History;"],"names":["History","toLogin","useNavigate","isAuth","getDataFromLS","history","useAppSelector","state","dispatch","useDispatch","isAuthHistory","removeHistoryItem","e","remove","target","getAttribute","removeFromHistory","filter","el","setDataToLS","useEffect","_jsxs","className","classes","children","_jsx","historyTitle","length","historyList","map","id","historyItem","Link","historyLink","to","concat","deleteHistoryItem","onClick","historyEmpty"],"sourceRoot":""}